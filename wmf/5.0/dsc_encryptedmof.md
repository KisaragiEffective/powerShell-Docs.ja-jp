---
ms.date: 2017-06-12
author: JKeithB
ms.topic: reference
keywords: "WMF, PowerShell, セットアップ"
ms.openlocfilehash: d19f3c47af858eb18a39847050f80ffa013c59bb
ms.sourcegitcommit: 75f70c7df01eea5e7a2c16f9a3ab1dd437a1f8fd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/12/2017
---
# <a name="mof-documents-are-encrypted-by-default"></a><span data-ttu-id="0f775-102">MOF ドキュメントは既定で暗号化されます</span><span class="sxs-lookup"><span data-stu-id="0f775-102">MOF Documents Are Encrypted By Default</span></span>

<span data-ttu-id="0f775-103">構成ドキュメントには、機密情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="0f775-103">Configuration documents contain sensitive information.</span></span> <span data-ttu-id="0f775-104">以前のバージョンの DSC では、構成内の資格情報を保護するために、証明書を配布し、管理する必要がありました。</span><span class="sxs-lookup"><span data-stu-id="0f775-104">In previous versions of DSC you were required to distribute and manage certificates in order to secure credentials within a configuration.</span></span> <span data-ttu-id="0f775-105">多くの場合、これは管理上大きな負担となり、多くの作業を行ったとしても、一部の構成情報が保護されないままでした。</span><span class="sxs-lookup"><span data-stu-id="0f775-105">For many, this was a significant management burden and even with all of the work it took to do this you were still left with some configuration information that was not and could not be secured.</span></span> 

<span data-ttu-id="0f775-106">**すべての構成 MOF が既定で保護されている**ため、この問題は解決されました。</span><span class="sxs-lookup"><span data-stu-id="0f775-106">That is no longer the case because **all configuration MOFs are secured by default**.</span></span> <span data-ttu-id="0f775-107">証明書またはメタ構成の設定は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="0f775-107">No certificates or meta-configuration settings are needed.</span></span> <span data-ttu-id="0f775-108">構成 MOF がターゲット ノードのローカル構成マネージャー (LCM) によってディスクに保存されるときには必ず暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="0f775-108">Any time a configuration MOF is saved to disk by the Local Configuration Manager (LCM) on a target node, it is encrypted.</span></span> <span data-ttu-id="0f775-109">MOF は、[DPAPI](https://msdn.microsoft.com/en-us/library/ms995355.aspx) を使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="0f775-109">The MOFs are encrypted using [DPAPI](https://msdn.microsoft.com/en-us/library/ms995355.aspx).</span></span> <span data-ttu-id="0f775-110">**注:** 構成スクリプトによって生成された MOF は暗号化されません。</span><span class="sxs-lookup"><span data-stu-id="0f775-110">**Note:** MOFs generated by a configuration script are not encrypted.</span></span>

<span data-ttu-id="0f775-111">**例:** プッシュ モードの暗号化 ![MOF 暗号化](../images/MOF_Encryption.jpg)</span><span class="sxs-lookup"><span data-stu-id="0f775-111">**Example:** Encryption in push mode ![MOF Encryption](../images/MOF_Encryption.jpg)</span></span>

<span data-ttu-id="0f775-112">パスワードの暗号化に証明書メソッドを既に使用している場合、またはパスワードのセキュリティを強化する必要がある場合は、[証明書ベースの暗号化の既存のメソッド](https://msdn.microsoft.com/en-us/powershell/dsc/securemof)が引き続き機能します。</span><span class="sxs-lookup"><span data-stu-id="0f775-112">If you are already using the certificate method for encrypting passwords or if you need additional security for your passwords, the [existing method of certificate based encryption](https://msdn.microsoft.com/en-us/powershell/dsc/securemof) will continue to work.</span></span> <span data-ttu-id="0f775-113">結果として、DPAPI を使用して MOF ドキュメントが完全に暗号化され、ドキュメント内でパスワードが暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="0f775-113">The result will be a MOF document that is fully encrypted using the DPAPIs and additionally have passwords encrypted within it.</span></span>

<span data-ttu-id="0f775-114">この暗号化は、構成 MOF ドキュメント (pending.mof、current.mof、previous.mof、および部分的な MOF) にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="0f775-114">This encryption only applies to configuration MOF documents (pending.mof, current.mof, previous.mof and partial MOFs).</span></span> <span data-ttu-id="0f775-115">シークレットが含まれる可能性が低いため、メタ構成 MOF は引き続きプレーン テキストに保存されます。</span><span class="sxs-lookup"><span data-stu-id="0f775-115">Meta-configuration MOFs are still saved in plain text since they less likely contain secrets.</span></span>

