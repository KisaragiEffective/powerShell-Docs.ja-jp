# Just Enough Administration
Just Enough Administration (JEA) は、PowerShell で管理できるものすべてに対する委任された管理を有効にするセキュリティ テクノロジです。
JEA を使用すると、以下のことを実行できます。
- **お使いのコンピューター上の管理者の数を減らします**。このためには、通常のユーザーに代わって特権の必要な操作を実行する仮想アカウントを活用します。
- **ユーザーが実行できる操作を制限します**。ここでは、ユーザーが実行できるコマンドレット、関数、および外部コマンドを指定できます。
- "覗き見" トランスクリプションを使用して、**ユーザーの操作を把握します**。このトランスクリプションは、ユーザーがセッション中にどんなコマンドを実行したかを正確に示します。

これが重要な理由: 
DNS サーバーが Active Directory ドメイン コントローラーと併置された一般的なシナリオについて考えてみます。
DNS 管理者は、DNS サーバーでの問題を解決するためにローカル管理者特権が必要ですが、そのためには、これらの管理者を高い特権を持つ "Domain Admins" セキュリティ グループのメンバーにする必要があります。
これは、ドメイン全体への制御や、そのコンピューター上のすべてのリソースへのアクセス権をこれらの管理者に効果的に付与します。

JEA を配置し、DNS 管理者にロールを構成して、これらの管理者が作業を行うのに必要なすべてのコマンドにアクセスできるように、またそれ以外のことを実行できないようにすることができます。
つまり、これらの管理者は、Active Directory への権限なしに侵害された DNS キャッシュを簡単に修復したり、ファイル システムを参照したり、危険である可能性のあるスクリプトを実行したりすることができます。
さらに、JEA セッションが 1 回限りの特権仮想アカウントを使用するように構成されている場合、DNS 管理者は*特権のない*資格情報を使用してサーバーに接続できる一方で、特権のあるコマンドを実行することもできます。

## はじめに

### インストール
JEA は今後の Windows Server 2016 リリースと共に開発中であり、Windows Management Framework 更新プログラムを通じて以前のバージョンの Windows で使用することができます。
JEA の現在のリリースは、次のプラットフォームで使用できます。

**Windows Server**
- Windows Server 2016 Technical Preview 4 以降
- [Windows Management Framework 5.0](https://www.microsoft.com/en-us/download/details.aspx?id=50395) がインストールされた Windows Server 2012 R2、2012、および 2008 R2\*

**Windows クライアント**
- 11 月の更新プログラム (1511) がインストールされた Windows 10
- [Windows Management Framework 5.0](https://www.microsoft.com/en-us/download/details.aspx?id=50395) がインストールされた Windows 8.1、8、および 7\*

\* JEA セッションの仮想アカウントのサポートは、現在 Windows Server 2008 R2 または Windows 7 では利用できません。


### 中心的な概念
**JEA とは**

JEA は PowerShell の[制約付きエンドポイント](http://blogs.technet.com/b/heyscriptingguy/archive/2014/03/31/introduction-to-powershell-endpoints.aspx)の拡張機能で、ロール定義、仮想アカウントなどのいくつかの機能強化を追加することで、管理エンドポイントをさらに簡単に保護できます。
JEA エンドポイントは、1 つの PowerShell セッション構成ファイルと 1 つ以上のロール機能ファイルで構成されます。

**セッション構成ファイルおよびロール機能ファイルとは**

PowerShell セッション構成ファイル (.pssc) は、PowerShell エンドポイントに接続できる*ユーザー*とその構成*方法*を定義します。
ここで、ユーザーとセキュリティ グループを特定の管理ロールにマップし、仮想アカウント、トランスクリプション ポリシーなどのグローバル設定を構成します。
セッション構成ファイルは各コンピューターに固有で、これを使用して、必要に応じて、コンピューターごとにアクセス権を制御できます。

PowerShell ロール機能ファイル (.psrc) は、特定のロールに属する*どの*ユーザーがシステム上で操作を行えるかを定義します。
ここでは、ユーザーが JEA セッションで使用できるコマンドレット、関数、プロバイダー、および外部プログラムを制限できます。
ロール機能ファイルは、提供中のロール (DNS 管理者、レベル 1 のヘルプデスク、読み取り専用のインベントリの監査など) には一般的で、PowerShell モジュールに属し、環境全体で、また他のユーザーと簡単に共有できます。

**JEA による仮想アカウントの使用**

PowerShell セッション構成ファイルでは、仮想 "実行" アカウントを使用するように JEA セッションを構成できます。
仮想アカウントは、その特定のセッションで特定の接続しているユーザーに作成され、ユーザーのコマンドを実行する、1 回限りの特権アカウントです。
既定では、仮想アカウントはローカルの "管理者" セキュリティ グループに属しますが、指定したセキュリティ グループにのみ属するように構成することもできます。

### エクスペリエンス ガイドの利用
最初の JEA エンドポイントを作成する準備はできましたか。
独自の JEA エンドポイントを作成、展開、使用する方法については、「[JEA エクスペリエンス ガイド](jea-uide.md)」をご覧ください。
ガイドでは、事前構築された JEA エンドポイントを使用し、エンドユーザーの操作性のアイデアを取得することですばやく作業を開始できます。また、エンドポイントを一から再作成する手順や、セッション構成およびロール機能についても説明します。

### 独自の JEA エンドポイントの作成を開始する
JEA エンドポイントの作成は簡単です。必要なのは、JEA 対応のシステムとテキスト エディター (PowerShell ISE など) だけです。
作業開始に役立つヒントとして、`New-PSRoleCapabilityFile -Path <path>` および `New-PSSessionCapabilityFile -Path <Path>` (他の引数は使用しない) を使用してスケルトン ファイルを作成します。
これらのスケルトン ファイルには、すべての適用可能な構成フィールドと、各フィールドの使用目的を説明するコメントが含まれています。

JEA エンドポイントのさらに簡単な作成方法については、[JEA ツールキット ヘルパー](http://blogs.technet.com/b/privatecloud/archive/2015/12/20/introducing-the-updated-jea-helper-tool.aspx)を参照してください。ここに用意された GUI を使用して、セッション構成およびロール機能ファイルを作成できます。
また、PowerShell ログに基づいたロール機能の生成もサポートされており、ユーザーが業務で通常実行するコマンドで作業を開始することもできます。


<!--HONumber=Jun16_HO1-->


