---
title: ErrorRecord オブジェクトの解釈 |Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2a65b964-5bc6-4ade-a66b-b6afa7351ce7
caps.latest.revision: 9
ms.openlocfilehash: d77e4daf25bfcd5e76c184f6dbdb619368627bfa
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/03/2019
ms.locfileid: "56857228"
---
# <a name="interpreting-errorrecord-objects"></a><span data-ttu-id="594a0-102">ErrorRecord オブジェクトを解釈する</span><span class="sxs-lookup"><span data-stu-id="594a0-102">Interpreting ErrorRecord Objects</span></span>

<span data-ttu-id="594a0-103">ほとんどの場合、 [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)オブジェクトは、コマンドまたはスクリプトによって生成された未終了エラーを表します。</span><span class="sxs-lookup"><span data-stu-id="594a0-103">In most cases, an [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object represents a non-terminating error generated by a command or script.</span></span> <span data-ttu-id="594a0-104">エラーを終了できますも追加で情報を指定を使用して、ErrorRecord、 [System.Management.Automation.Icontainserrorrecord](/dotnet/api/System.Management.Automation.IContainsErrorRecord)インターフェイス。</span><span class="sxs-lookup"><span data-stu-id="594a0-104">Terminating errors can also specify the additional information in an ErrorRecord via the [System.Management.Automation.Icontainserrorrecord](/dotnet/api/System.Management.Automation.IContainsErrorRecord) interface.</span></span>

<span data-ttu-id="594a0-105">スクリプトまたはホストを解釈する必要がありますが、コマンドまたはスクリプトの実行中に発生する特定のエラー処理でエラー ハンドラーを記述する場合、 [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)を決定するオブジェクトかどうか、処理するエラーのクラスを表します。</span><span class="sxs-lookup"><span data-stu-id="594a0-105">If you want to write an error handler in your script or a host to handle specific errors that occur during command or script execution, you must interpret the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object to determine whether it represents the class of error that you want to handle.</span></span>

<span data-ttu-id="594a0-106">コマンドレットが検出した場合、終了または未終了エラー、エラー状態を説明するエラー レコードを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="594a0-106">When a cmdlet encounters a terminating or non-terminating error, it should create an error record that describes the error condition.</span></span> <span data-ttu-id="594a0-107">ホスト アプリケーションは、これらのエラー レコードを調査し、任意のアクションは、エラーを軽減するために実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="594a0-107">The host application must investigate these error records and perform whatever action will mitigate the error.</span></span> <span data-ttu-id="594a0-108">ホスト アプリケーションでは、レコードの処理に失敗しましたが、操作を続行することが終了しないエラーのエラー レコードを調べる必要がありますも、パイプラインが停止の原因となった終了するエラーのエラー レコードを調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="594a0-108">The host application must also investigate error records for nonterminating errors that failed to process a record but were able to continue, and it must investigate error records for terminating errors that caused the pipeline to stop.</span></span>

> [!NOTE]
> <span data-ttu-id="594a0-109">コマンドレットの呼び出しを終了するエラー、 [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)メソッド。</span><span class="sxs-lookup"><span data-stu-id="594a0-109">For terminating errors, the cmdlet calls the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="594a0-110">コマンドレットを呼び出して、未終了エラーを[System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)メソッド。</span><span class="sxs-lookup"><span data-stu-id="594a0-110">For non-terminating errors, the cmdlet calls the [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method.</span></span>

## <a name="error-record-design"></a><span data-ttu-id="594a0-111">エラー レコードのデザイン</span><span class="sxs-lookup"><span data-stu-id="594a0-111">Error Record Design</span></span>

<span data-ttu-id="594a0-112">エラー レコードは、各エラー レコードの結合された情報が一意であることを確認中に例外に記載されていない追加のエラー情報を提供する設計されています。</span><span class="sxs-lookup"><span data-stu-id="594a0-112">Error records are designed to provide additional error information that is not available in exceptions while ensuring that the combined information in each error record is unique.</span></span> <span data-ttu-id="594a0-113">この一意性は、ホスト アプリケーションがエラー状態を特定することし、ホストのアクションが実行する必要がありますようにエラー レコードのさまざまな部分を検査することができます。</span><span class="sxs-lookup"><span data-stu-id="594a0-113">This uniqueness allows the host application to inspect the different parts of the error record so that it can identify the error condition and the action the host must take.</span></span>

## <a name="interpreting-error-records"></a><span data-ttu-id="594a0-114">エラー レコードの解釈</span><span class="sxs-lookup"><span data-stu-id="594a0-114">Interpreting Error Records</span></span>

<span data-ttu-id="594a0-115">エラーを識別するために、エラー レコードの複数の部分を確認することができます。</span><span class="sxs-lookup"><span data-stu-id="594a0-115">You can review several parts of the error record to identify the error.</span></span> <span data-ttu-id="594a0-116">これらの部分を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="594a0-116">These parts include the following:</span></span>

- <span data-ttu-id="594a0-117">エラー カテゴリ</span><span class="sxs-lookup"><span data-stu-id="594a0-117">The error category</span></span>

- <span data-ttu-id="594a0-118">エラーの例外</span><span class="sxs-lookup"><span data-stu-id="594a0-118">The error exception</span></span>

- <span data-ttu-id="594a0-119">エラーの完全修飾識別子 (FQID)</span><span class="sxs-lookup"><span data-stu-id="594a0-119">The fully qualified error identifier (FQID)</span></span>

- <span data-ttu-id="594a0-120">その他の情報</span><span class="sxs-lookup"><span data-stu-id="594a0-120">Other information</span></span>

### <a name="the-error-category"></a><span data-ttu-id="594a0-121">エラー カテゴリ</span><span class="sxs-lookup"><span data-stu-id="594a0-121">The Error Category</span></span>

<span data-ttu-id="594a0-122">エラー レコードのエラー カテゴリは、によって提供される定義済み定数のいずれか、 [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory)列挙体。</span><span class="sxs-lookup"><span data-stu-id="594a0-122">The error category of the error record is one of the predefined constants provided by the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="594a0-123">この情報を利用、 [System.Management.Automation.Errorrecord.Categoryinfo\*](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo)のプロパティ、 [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="594a0-123">This information  is available through the [System.Management.Automation.Errorrecord.Categoryinfo\*](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property of the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

<span data-ttu-id="594a0-124">このコマンドレットは、CloseError、OpenError、InvalidType、ReadError、および WriteError カテゴリ、およびその他のエラー カテゴリを指定できます。</span><span class="sxs-lookup"><span data-stu-id="594a0-124">The cmdlet can specify the CloseError, OpenError, InvalidType, ReadError, and WriteError categories, and other error categories.</span></span> <span data-ttu-id="594a0-125">ホスト アプリケーションは、エラー カテゴリを使用して、エラーのグループをキャプチャできます。</span><span class="sxs-lookup"><span data-stu-id="594a0-125">The host application can use the error category to capture groups of errors.</span></span>

### <a name="the-exception"></a><span data-ttu-id="594a0-126">例外</span><span class="sxs-lookup"><span data-stu-id="594a0-126">The Exception</span></span>

<span data-ttu-id="594a0-127">エラー レコードに含まれる例外は、コマンドレットによって提供され、を介してアクセスできる、 [System.Management.Automation.Errorrecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception)のプロパティ、 [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="594a0-127">The exception included in the error record is provided by the cmdlet and can be accessed through the [System.Management.Automation.Errorrecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

<span data-ttu-id="594a0-128">ホスト アプリケーションの使用、`is`の特定のクラスまたは派生クラスの例外がいることを識別するキーワード。</span><span class="sxs-lookup"><span data-stu-id="594a0-128">Host applications can use the `is` keyword to identify that the exception is of a specific class or of a derived class.</span></span> <span data-ttu-id="594a0-129">勧め例外の種類で branch に次の例に示すようにします。</span><span class="sxs-lookup"><span data-stu-id="594a0-129">It is better to branch on the exception type, as shown in the following example.</span></span>

`if (MyNonTerminatingError.Exception is AccessDeniedException)`

<span data-ttu-id="594a0-130">これにより、派生クラスをキャッチします。</span><span class="sxs-lookup"><span data-stu-id="594a0-130">This way, you catch the derived classes.</span></span> <span data-ttu-id="594a0-131">ただし、問題は場合は、例外が逆シリアル化です。</span><span class="sxs-lookup"><span data-stu-id="594a0-131">However, there are problems if the exception is deserialized.</span></span>

### <a name="the-fqid"></a><span data-ttu-id="594a0-132">FQID</span><span class="sxs-lookup"><span data-stu-id="594a0-132">The FQID</span></span>

<span data-ttu-id="594a0-133">FQID は、最も詳細な情報、エラーを識別するために使用することができます。</span><span class="sxs-lookup"><span data-stu-id="594a0-133">The FQID is the most specific information you can use to identify the error.</span></span> <span data-ttu-id="594a0-134">それは、コマンドレット定義の識別子、コマンドレット クラスでは、およびエラーを報告したソースの名前を含む文字列です。</span><span class="sxs-lookup"><span data-stu-id="594a0-134">It is a string that includes a cmdlet-defined identifier, the name of the cmdlet class, and the source that reported the error.</span></span> <span data-ttu-id="594a0-135">一般に、エラー レコードは、Windows イベント ログのイベント レコードに似ています。</span><span class="sxs-lookup"><span data-stu-id="594a0-135">In general, an error record is analogous to an event record of a Windows Event log.</span></span> <span data-ttu-id="594a0-136">FQID は次の組は、イベント レコードのクラスを識別するに似ています。 (*ログ名*、*ソース*、*イベント ID*)。</span><span class="sxs-lookup"><span data-stu-id="594a0-136">The FQID is analogous to the following tuple, which identifies the class of the event record: (*log name*, *source*, *event ID*).</span></span>

<span data-ttu-id="594a0-137">1 つの文字列を検査するのには、FQID は設計されています。</span><span class="sxs-lookup"><span data-stu-id="594a0-137">The FQID is designed to be inspected as a single string.</span></span> <span data-ttu-id="594a0-138">ただし、エラーの識別子が、ホスト アプリケーションによって解析するように設計ケースが存在します。</span><span class="sxs-lookup"><span data-stu-id="594a0-138">However, cases exist in which the error identifier is designed to be parsed by the host application.</span></span> <span data-ttu-id="594a0-139">次の例は、適切な形式の完全修飾エラー識別子です。</span><span class="sxs-lookup"><span data-stu-id="594a0-139">The following example is a well-formed fully qualified error identifier.</span></span>

`CommandNotFoundException,Microsoft.PowerShell.Commands.GetCommandCommand.`

<span data-ttu-id="594a0-140">前の例では、最初のトークンは、コマンドレット クラスの名前が続くエラー識別子です。</span><span class="sxs-lookup"><span data-stu-id="594a0-140">In the previous example, the first token is the error identifier, which is followed by the name of the cmdlet class.</span></span> <span data-ttu-id="594a0-141">エラーの識別子は、1 つのトークンを指定できますか、識別子の検査で分岐できるドットで区切られた識別子であることができます。</span><span class="sxs-lookup"><span data-stu-id="594a0-141">The error identifier can be a single token, or it can be a dot-separated identifier that allows for branching on inspection of the identifier.</span></span> <span data-ttu-id="594a0-142">エラー識別子で空白や句読点を使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="594a0-142">Do not use white space or punctuation in the error identifier.</span></span> <span data-ttu-id="594a0-143">コンマを使用しないように、特に重要ですがコンマは、コマンドレット クラスの名前、識別子を区切るために Windows PowerShell によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="594a0-143">It is especially important not to use a comma; a comma is used by Windows PowerShell to separate the identifier and the cmdlet class name.</span></span>

### <a name="other-information"></a><span data-ttu-id="594a0-144">その他の情報</span><span class="sxs-lookup"><span data-stu-id="594a0-144">Other Information</span></span>

<span data-ttu-id="594a0-145">[System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)オブジェクトは、エラーが発生した環境を説明する情報も提供可能性があります。</span><span class="sxs-lookup"><span data-stu-id="594a0-145">The [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object might also provide information that describes the environment in which the error occurred.</span></span> <span data-ttu-id="594a0-146">この情報には、エラーの詳細、呼び出し情報、エラーが発生したときに処理されていたターゲット オブジェクトなどのアイテムが含まれます。</span><span class="sxs-lookup"><span data-stu-id="594a0-146">This information includes items such as error details, invocation information, and the target object that was being processed when the error occurred.</span></span> <span data-ttu-id="594a0-147">この情報は、ホスト アプリケーションに立つ可能性のある、これは通常使用されませんエラーを識別します。</span><span class="sxs-lookup"><span data-stu-id="594a0-147">Although this information might be useful to the host application, it is not typically used to identify the error.</span></span> <span data-ttu-id="594a0-148">この情報は、次のプロパティを使用します。</span><span class="sxs-lookup"><span data-stu-id="594a0-148">This information is available through the following properties:</span></span>

[<span data-ttu-id="594a0-149">System.Management.Automation.Errorrecord.Errordetails\*</span><span class="sxs-lookup"><span data-stu-id="594a0-149">System.Management.Automation.Errorrecord.Errordetails\*</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails)

[<span data-ttu-id="594a0-150">System.Management.Automation.Errorrecord.Invocationinfo\*</span><span class="sxs-lookup"><span data-stu-id="594a0-150">System.Management.Automation.Errorrecord.Invocationinfo\*</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.InvocationInfo)

[<span data-ttu-id="594a0-151">System.Management.Automation.Errorrecord.Targetobject\*</span><span class="sxs-lookup"><span data-stu-id="594a0-151">System.Management.Automation.Errorrecord.Targetobject\*</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.TargetObject)

## <a name="see-also"></a><span data-ttu-id="594a0-152">参照</span><span class="sxs-lookup"><span data-stu-id="594a0-152">See Also</span></span>

[<span data-ttu-id="594a0-153">System.Management.Automation.Errorrecord</span><span class="sxs-lookup"><span data-stu-id="594a0-153">System.Management.Automation.Errorrecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="594a0-154">System.Management.Automation.Errorcategory</span><span class="sxs-lookup"><span data-stu-id="594a0-154">System.Management.Automation.Errorcategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="594a0-155">System.Management.Automation.Errorcategoryinfo</span><span class="sxs-lookup"><span data-stu-id="594a0-155">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="594a0-156">System.Management.Automation.Cmdlet.Writeerror\*</span><span class="sxs-lookup"><span data-stu-id="594a0-156">System.Management.Automation.Cmdlet.Writeerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="594a0-157">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span><span class="sxs-lookup"><span data-stu-id="594a0-157">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="594a0-158">未終了エラー レポート、コマンドレットに追加します。</span><span class="sxs-lookup"><span data-stu-id="594a0-158">Adding Non-Terminating Error Reporting to Your Cmdlet</span></span>](./adding-non-terminating-error-reporting-to-your-cmdlet.md)

[<span data-ttu-id="594a0-159">Windows PowerShell のエラー報告</span><span class="sxs-lookup"><span data-stu-id="594a0-159">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="594a0-160">Windows PowerShell コマンドレットの記述</span><span class="sxs-lookup"><span data-stu-id="594a0-160">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
